{% extends 'sis/admin_templates/base_new.html' %}
 {% load crispy_forms_tags %}
 {% load static %}
 {% block sidebar %}
<!-- Sidebar -->
			<nav class="sidebar mCustomScrollbar _mCS_1 mCS-autoHide mCS_no_scrollbar" style="overflow: visible;"><div id="mCSB_1" class="mCustomScrollBox mCS-minimal-dark mCSB_vertical mCSB_outside" style="max-height: none;" tabindex="0"><div id="mCSB_1_container" class="mCSB_container mCS_y_hidden mCS_no_scrollbar_y" style="position:relative; top:0; left:0;" dir="ltr">
				
				<!-- close sidebar menu -->
				<div class="dismiss">
					<i class="fas fa-arrow-left"></i>
				</div>
                <div class="logo">
					<h3><a href="index.html">Bootstrap 4 Template with Sidebar Menu</a></h3>
				</div>
				
				<ul class="list-unstyled menu-elements">



					<li class="">
						<a class="" href="#top-content"><i class="fas fa-home"></i> Dashboard</a>
					</li>
					<li class="">
						<a class="" href="#top-content"><i class="fas fa-user "></i>Students</a>
					</li>
					<li class="">
						<a class="" href="#top-content"><i class="fas fa-users-cog"></i>Staff</a>
					</li>
					<li class="">
						<a class="" href="#top-content"><i class="fas fa-book"></i>Courses</a>
					</li>
                    <li class="">
                            <a class="" href="#section-1"><i class="fas fa-hammer"></i> Assignment Builder</a>
					</li>
					<li class="">
						<a class="" href="#section-1"><i class="fas fa-cog"></i> Attendance</a>
					</li>
					<li class="">
						<a class="" href="#section-2"><i class="fas fa-user"></i> Inbox </a>
					</li>
					<li class="active">
						<a class="" href="#section-5"><i class="fas fa-pencil-alt"></i> Grades </a>
					</li>
					
                    <li>
                        <a 
                            class="" 
                            href="{% url 'logout' %}">
                            <i class="fas fa-sign-in-alt"></i> Logout
                        </a>
                     </li>
				</ul>
				
				<div class="to-top">
					<a class="btn btn-primary btn-customized-3" href="#" role="button">
	                    <i class="fas fa-arrow-up"></i> Top
	                </a>
				</div>
				
				<div class="dark-light-buttons">
					<a class="btn btn-primary btn-customized-4 btn-customized-dark" href="#" role="button">Dark</a>
					<a class="btn btn-primary btn-customized-4 btn-customized-light" href="#" role="button">Light</a>
				</div>
			
			</div></div><div id="mCSB_1_scrollbar_vertical" class="mCSB_scrollTools mCSB_1_scrollbar mCS-minimal-dark mCSB_scrollTools_vertical" style="display: none;"><div class="mCSB_draggerContainer"><div id="mCSB_1_dragger_vertical" class="mCSB_dragger" style="position: absolute; min-height: 50px; height: 0px; top: 0px;"><div class="mCSB_dragger_bar" style="line-height: 50px;"></div></div><div class="mCSB_draggerRail"></div></div></div></nav>
			<!-- End sidebar -->


{% endblock sidebar %}
{% block content %}
<!-- open sidebar menu -->
  <a class="btn btn-primary btn-customized open-menu" href="#" role="button">
      <i class="fas fa-align-left"></i> <span>Menu</span>
  </a>
  <ul class="nav nav-tabs mb-3 justify-content-center" id="pills-tab" role="tablist">
    <li class="nav-item">
      <a class="nav-link active" id="pills-stream-tab" data-toggle="pill" href="#pills-stream" role="tab" aria-controls="pills-stream" aria-selected="true">Stream</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="pills-classwork-tab" data-toggle="pill" href="#pills-classwork" role="tab" aria-controls="pills-classwork" aria-selected="false">Classwork</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="pills-people-tab" data-toggle="pill" href="#pills-people" role="tab" aria-controls="pills-people" aria-selected="false">People</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="pills-marks-tab" data-toggle="pill" href="#pills-marks" role="tab" aria-controls="pills-marks" aria-selected="false">Marks</a>
    </li>
  </ul>
  <div class="tab-content" id="pills-tabContent">

    {% comment %} Stream Tab {% endcomment %}
    <div class="tab-pane fade show active" id="pills-stream" role="tabpanel" aria-labelledby="pills-stream-tab">
        <div class="container">
          <div class="card shadow-sm rounded text-left bg-dark text-white" style="height:200px;">
            <img class="card-img" style="min-width:100%;min-height:100%;" src="{% static 'sis/img/backgrounds/waves2.png' %}" alt="Card image">
            <div class="card-img-overlay d-flex justify-content-end flex-column">
              <h5 class="card-title">{{course.code}} Section {{course.section}}</h5>
              <p class="card-text">{{course.name}} | {{course.instructor.username}}</p>
            </div>
          </div>
          <div class="row">
            <div class="col-2 py-2" >
                <div class="card rounded shadow-sm">
                  <div class="card-body">
                    <h6 class="card-subtitle mb-2 text-muted border-bottom">Upcoming Tasks and Due Dates</h6>
                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                    <a href="#" class="card-link">View All</a>
                  </div>
                </div>
            </div>
            <div class="col-10" >
              <div class="row">
                  <div class="col-12 py-2" >
                    <button 
                        class="btn btn-info col-12" 
                        type="button" data-toggle="collapse"
                        data-target="#collapseExample" 
                        aria-expanded="false" 
                        aria-controls="collapseExample"
                        onClick="d-none">
                        Announce something to the class...
                    </button>
                    <div class="collapse" id="collapseExample">
                      <div class="card card-body">
                          <form method="POST" class="">
                            {% csrf_token %}

                            <fieldset class="form-group" > 
                                {% comment %} <legend> Enroll New Course </legend> {% endcomment %}
                                <div class="d-flex align-items-start" >
                                </div>
                                <div class="row">
                                  <div class="col-12 d-block" >
                                    {{form.title|as_crispy_field}}
                                  </div>
                                </div>
                                <div class="row">
                                  <div class="col-12 d-block" >
                                    {{form.content|as_crispy_field}}
                                  </div>
                                </div>
                            </fieldset>
                            <div class="form-group">
                                <button type="submit" class="btn btn-dark"> Post </button>
                            </div>
                        </form>
                      </div>
                    </div>
                  </div>
                {% for post in posts %}
                  <div class="col-12 py-2" >
                    <div class="card rounded shadow-md">
                      <div class="card-body text-left">
                        <h5 class="card-title py-2 border-bottom"> {{post.title}} | {{post.user.username}} <small>at {{post.date_posted}}</small>  </h5>
                        <p class="card-text">{{post.content}}</p>
                      </div>
                    </div>
                  </div>
                {% endfor %}
              </div>
            </div>
          </div>
        </div>
    </div>
    {% comment %} Classwork Tab {% endcomment %}
    <div class="tab-pane fade" id="pills-classwork" role="tabpanel" aria-labelledby="pills-classwork-tab">
      
      <div class="container">
          <div class="row">
            <a class="btn btn-dark text-light" href="{% url 'course_assignment_build' %}" role="button">
             <i class="fas fa-plus"></i> Create
            </a>
            {% comment %} <div class="px-3 dropdown">
              <a class="btn btn-dark text-light dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
               <i class="fas fa-plus"></i> Create
              </a>

              <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                <a class="dropdown-item" href="#"><i class="fas fa-tasks pr-3"></i> Task</a>
                <a class="dropdown-item" href="{% url 'course_assignment_builder' %}"> <i class="fas fa-align-justify pr-3"></i> Quiz</a>
                <a class="dropdown-item" href="{% url 'course_assignment_builder' %}"><i class="fas fa-align-center pr-3"></i> Test</a>
                <a class="dropdown-item" href="#"><i class="fas fa-pen pr-3"></i> Homework</a>
                <a class="dropdown-item" href="#"><i class="fas fa-hammer pr-3"></i> Project</a>
              </div>
            </div> {% endcomment %}
          </div>
            <!-- <button 
                class="btn btn-dark col-12" 
                type="button" data-toggle="collapse"
                data-target="#assignment_form" 
                aria-expanded="false" 
                aria-controls="assignment_form"
                onClick="d-none">
                <i class="fas fa-plus"></i> Create
            </button>
            <div class="collapse " id="assignment_form">
                <div class="card">
                  <div class="card-body">
                      <form method="POST" class="">
                        {% csrf_token %}

                        <fieldset class="form-group" > 
                            {% comment %} <legend> Enroll New Course </legend> {% endcomment %}
                            <div class="row">
                              <div class="col-6 d-block" >
                                  {{form2.name|as_crispy_field}}
                                </div>
                                <div class="col-6 d-block">
                                  {{form2.description|as_crispy_field}}
                              </div>
                            </div>
                            <div class="row">
                              <div class="col-6 d-block" >
                                  {{form2.possible_points|as_crispy_field}}
                                </div>
                                <div class="col-6 d-block">
                                  {{form2.category|as_crispy_field}}
                              </div>
                            </div>
                        </fieldset>
                        <div class="form-group">
                            <button type="submit" class="btn btn-dark"> Post </button>
                        </div>
                    </form>
                  </div>
                </div>
              </div>
          </div> -->
          <div class="row">
              {% for assignment in assignments %}
                <div class="col-12 py-2" >

                  <a href="#{{assignment.id}}" class=" text-dark" data-toggle="modal" data-target=".assignment-{{assignment.id}}" >
                    <div class="card rounded shadow-sm">
                      <div class="card-body d-flex">
                        <div class="col-11 d-flex align-items-start">
                          
                          <h5 class="card-title "><i class="pr-5 fas fa-thumbtack"> <strong>{{assignment.category}}</strong> </i> {{assignment.name}} posted by {{assignment.instructor.username}} <small>at {{assignment.date_posted}}</small></h5>

                        </div>
                        <div class="col-1">
                          <span class="align-items-end" > */{{assignment.possible_points}} </span>
                        </div>
                      </div>
                    </div>
                  </a>
                  {% comment %} Modal {% endcomment %}
                  <div class="modal assignment-{{assignment.id}}" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-xl">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title">{{assignment.name}} <small>posted by {{assignment.instructor.username}} at {{assignment.date_posted}}</small></h5>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">
                          <div class="row">
                            
                            <div class="col-11">
                              <section class="text-left"> 
                                <p>
                                  {{assignment.description}}
                                </p>
                              </section>
                              
                              <section class="text-left"> 
                                <a href="{{assignment.file.url}}">
                                  {{assignment.filename}}
                                </a>
                              </section>
                            </div>
                            <div class="col-1">
                              <span class="align-items-end" > */{{assignment.possible_points}} </span>
                            </div>
                          </div>
                        </div>
                        <div class="modal-footer">
                        <button type="button" class="btn btn-primary">Save changes</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                      </div>

                      </div>
                    </div>
                  </div>

                </div>
              {% endfor %}
          </div>
      </div>

    </div>

    {% comment %} People Tab {% endcomment %}
    <div class="tab-pane fade" id="pills-people" role="tabpanel" aria-labelledby="pills-people-tab">
      <div class="container">
        <div class="row justify-content-center pb-3 ">
          <div class="col-8 d-flex align-items-start border-bottom border-secondary">
            <h2> Instructors </h2>
          </div>
        </div>
        <div class="row justify-content-center">
          <div class="col-8">
            <div class="card rounded shadow-sm border-0">
                <div class="card-body d-flex">
                  <div class="col-9 d-flex">
                    <h5 class="card-title "><i class="pr-5 fas fa-thumbtack"></i>  
                      {{instructor.username}}</h5>
                  </div>
                  <div class="col-3">
                    <a type="button" href="#" class="btn btn-dark text-light text-decoration-none" ><span class+"align-items-end" > <i class="far fa-envelope"></i> Send Email </span></a>
                  </div>
                </div>
            </div>
          </div>

        </div>
        <div class="row justify-content-center py-3 pt-5">
          <div class="col-8 d-flex align-items-start border-bottom border-secondary">
            <h2> Students </h2>
          </div>
        </div>
        <div class="row justify-content-center">
          {% for student in students %}
              <div class="col-8 py-2">
                <div class="card rounded shadow-sm border-0">
                  <div class="card-body d-flex">
                    <div class="col-9 d-flex">
                      <h5 class="card-title ">
                        <i class="pr-5 fas fa-thumbtack"></i> 
                        {% if student.username %}
                          {{student.username}}
                        {% else %}
                          {{student.first_name}} {{student.last_name}}                        
                        {% endif %}
                      </h5>
                    </div>
                    <div class="col-3">
                      <a type="button" href="#" class="btn btn-dark text-light text-decoration-none" >
                        <span class+"align-items-end" > <i class="far fa-envelope"></i> Send Email </span>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
          {% endfor %}
        </div>

      </div>
    </div>

    {% comment %} Marks Tab {% endcomment %}
    <div class="tab-pane fade" id="pills-marks" role="tabpanel" aria-labelledby="pills-marks-tab">...</div>
  </div>
    <!-- Button trigger modal -->
    {% comment %} <button
      type="button"
      class="btn btn-primary"
      data-toggle="modal"
      data-target="#new_course_modal"
    >
      Add Post
    </button>


    <!-- Modal -->
    <div
      class="modal fade"
      id="new_course_modal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-xl">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="row">
              <form method="POST" class="p-4">
                {% csrf_token %}

                <fieldset class="form-group">
                  <legend>New Post</legend>
                  {{ form|crispy }}
                </fieldset>
                <div class="form-group">
                  <button type="submit" class="btn btn-dark">Post</button>
                </div>
              </form>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
            <button type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </div>
    </div>
  </div> {% endcomment %}

  {% comment %} {% for post in posts %}
    <div class="row" >
      <div class="col">
        <div class="card my-4">
          <div class="card-body">
            <h5 class="card-title border-bottom"> {{post.user.username}} | {{post.title}} <small>{{post.date_posted}}</small> </h5>
            <p class="card-text">
              {{post.content}}
            </p>
          </div>
        </div>
      </div>
    </div>
  {% endfor %} {% endcomment %}

{%endblock content %}
